import{S as Ee,i as Ae,s as we,C as De,k as _,q as C,a as M,D as Y,l as g,m,r as x,h as d,c as q,E as Z,n as s,b as be,F as o,G as pe,H as Ve,I as ke,J as je,K as Ie,g as Le,d as Te,L as Me,M as qe,N as $,O as z,o as He,P as Se,Q as Oe}from"../chunks/index.764ff3e9.js";import{p as Fe}from"../chunks/parse.bee59afc.js";import{j as ye}from"../chunks/singletons.ee82a79c.js";import{i as ve,c as ee,m as te}from"../chunks/store.3c6a101a.js";const Ne=ye("invalidate_all"),Pe=ye("apply_action");function ze(t){const e=JSON.parse(t);return e.data&&(e.data=Fe(e.data)),e}function Ce(t){return HTMLElement.prototype.cloneNode.call(t)}function xe(t,e=()=>{}){const i=async({action:l,result:n,reset:f})=>{n.type==="success"&&(f!==!1&&HTMLFormElement.prototype.reset.call(t),await Ne()),(location.origin+location.pathname===l.origin+l.pathname||n.type==="redirect"||n.type==="error")&&Pe(n)};async function a(l){var E,I,u;l.preventDefault();const n=new URL((E=l.submitter)!=null&&E.hasAttribute("formaction")?l.submitter.formAction:Ce(t).action),f=new FormData(t),b=(I=l.submitter)==null?void 0:I.getAttribute("name");b&&f.append(b,((u=l.submitter)==null?void 0:u.getAttribute("value"))??"");const c=new AbortController;let y=!1;const L=await e({action:n,cancel:()=>y=!0,controller:c,get data(){return f},formData:f,get form(){return t},formElement:t,submitter:l.submitter})??i;if(y)return;let k;try{const p=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:f,signal:c.signal});k=ze(await p.text()),k.type==="error"&&(k.status=p.status)}catch(p){if((p==null?void 0:p.name)==="AbortError")return;k={type:"error",error:p}}L({action:n,get data(){return f},formData:f,get form(){return t},formElement:t,update:p=>i({action:n,result:k,reset:p==null?void 0:p.reset}),result:k})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",a)}}}function _e(t,e,i){const a=t.slice();return a[12]=e[i],a}function ge(t){let e,i,a=t[12].name+"",l,n;return{c(){e=_("div"),i=_("a"),l=C(a),n=M(),this.h()},l(f){e=g(f,"DIV",{class:!0});var b=m(e);i=g(b,"A",{href:!0});var c=m(i);l=x(c,a),c.forEach(d),n=q(b),b.forEach(d),this.h()},h(){s(i,"href",t[12].path),s(e,"class","route")},m(f,b){be(f,e,b),o(e,i),o(i,l),o(e,n)},p:Se,d(f){f&&d(e)}}}function Ge(t){let e,i,a,l,n,f,b,c,y,j,L,k,E,I,u,p,A,G,R,T,B,P,H,J,S,O,ae=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format()+"",U,F,K,oe,N=t[0],v=[];for(let r=0;r<N.length;r+=1)v[r]=ge(_e(t,N,r));const Q=t[4].default,w=De(Q,t,t[3],null);return{c(){e=_("div"),i=_("header"),a=_("div"),l=_("div"),n=_("a"),f=C("Vercel App"),b=M(),c=_("div"),y=Y("svg"),j=Y("path"),L=Y("path"),k=M(),E=_("form"),I=_("input"),u=M(),p=_("div"),A=_("a"),G=C("reload"),R=M(),T=_("nav");for(let r=0;r<v.length;r+=1)v[r].c();B=M(),P=_("main"),H=_("div"),w&&w.c(),J=M(),S=_("footer"),O=_("div"),U=C(ae),this.h()},l(r){e=g(r,"DIV",{class:!0});var D=m(e);i=g(D,"HEADER",{class:!0});var h=m(i);a=g(h,"DIV",{class:!0});var V=m(a);l=g(V,"DIV",{class:!0});var re=m(l);n=g(re,"A",{href:!0,target:!0,rel:!0});var se=m(n);f=x(se,"Vercel App"),se.forEach(d),re.forEach(d),b=q(V),c=g(V,"DIV",{class:!0});var le=m(c);y=Z(le,"svg",{xmlns:!0,viewBox:!0,class:!0});var W=m(y);j=Z(W,"path",{fill:!0,d:!0}),m(j).forEach(d),L=Z(W,"path",{d:!0}),m(L).forEach(d),W.forEach(d),le.forEach(d),k=q(V),E=g(V,"FORM",{method:!0,action:!0});var ne=m(E);I=g(ne,"INPUT",{type:!0,name:!0}),ne.forEach(d),u=q(V),p=g(V,"DIV",{});var ie=m(p);A=g(ie,"A",{href:!0,"data-sveltekit-reload":!0,button:!0});var ce=m(A);G=x(ce,"reload"),ce.forEach(d),ie.forEach(d),R=q(V),T=g(V,"NAV",{class:!0});var ue=m(T);for(let X=0;X<v.length;X+=1)v[X].l(ue);ue.forEach(d),V.forEach(d),h.forEach(d),B=q(D),P=g(D,"MAIN",{});var de=m(P);H=g(de,"DIV",{class:!0});var fe=m(H);w&&w.l(fe),fe.forEach(d),de.forEach(d),J=q(D),S=g(D,"FOOTER",{class:!0});var he=m(S);O=g(he,"DIV",{class:!0});var me=m(O);U=x(me,ae),me.forEach(d),he.forEach(d),D.forEach(d),this.h()},h(){s(n,"href","https://geo-nine-teal.vercel.app/"),s(n,"target","_blank"),s(n,"rel","noopener noreferrer"),s(l,"class","title"),s(j,"fill","none"),s(j,"d","M0 0h24v24H0V0z"),s(L,"d","M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0 0 13 3.06V1h-2v2.06A8.994 8.994 0 0 0 3.06 11H1v2h2.06A8.994 8.994 0 0 0 11 20.94V23h2v-2.06A8.994 8.994 0 0 0 20.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"),s(y,"xmlns","http://www.w3.org/2000/svg"),s(y,"viewBox","0 0 24 24"),s(y,"class","svelte-1i8jnqm"),s(c,"class","btn"),s(I,"type","text"),s(I,"name","searchTerm"),s(E,"method","POST"),s(E,"action","?/search"),s(A,"href","/"),s(A,"data-sveltekit-reload",""),s(A,"button",""),s(T,"class","svelte-1i8jnqm"),s(a,"class","flex svelte-1i8jnqm"),s(i,"class"," svelte-1i8jnqm"),s(H,"class","router svelte-1i8jnqm"),s(O,"class","flex svelte-1i8jnqm"),s(S,"class","svelte-1i8jnqm"),s(e,"class","app svelte-1i8jnqm")},m(r,D){be(r,e,D),o(e,i),o(i,a),o(a,l),o(l,n),o(n,f),o(a,b),o(a,c),o(c,y),o(y,j),o(y,L),o(a,k),o(a,E),o(E,I),o(a,u),o(a,p),o(p,A),o(A,G),o(a,R),o(a,T);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(T,null);o(e,B),o(e,P),o(P,H),w&&w.m(H,null),o(e,J),o(e,S),o(S,O),o(O,U),F=!0,K||(oe=[pe(c,"keypress",t[5]),pe(c,"click",t[1]),Ve(xe.call(null,E))],K=!0)},p(r,[D]){if(D&1){N=r[0];let h;for(h=0;h<N.length;h+=1){const V=_e(r,N,h);v[h]?v[h].p(V,D):(v[h]=ge(V),v[h].c(),v[h].m(T,null))}for(;h<v.length;h+=1)v[h].d(1);v.length=N.length}w&&w.p&&(!F||D&8)&&ke(w,Q,r,r[3],F?Ie(Q,r[3],D,null):je(r[3]),null)},i(r){F||(Le(w,r),F=!0)},o(r){Te(w,r),F=!1},d(r){r&&d(e),Me(v,r),w&&w.d(r),K=!1,qe(oe)}}}function Re(){console.log("Browser Geolocation not available")}function Be(t,e,i){let a,l,n;$(t,te,u=>i(8,a=u)),$(t,ee,u=>i(9,l=u)),$(t,ve,u=>i(10,n=u));let{$$slots:f={},$$scope:b}=e,{data:c}=e;z(ve,n=c==null?void 0:c.ipData,n);let y,j;const L=[{name:"Home",path:"/"},{name:"About",path:"/about"}];async function k(u){z(te,a=" - ",a),y=u.coords.latitude,j=u.coords.longitude;const A=await(await fetch("api/reverseGeo",{method:"POST",body:JSON.stringify({lat:y,lon:j}),headers:{"Content-Type":"application/json"}})).json();console.log("geoData",A==null?void 0:A.location),z(ee,l=await{name:"geoData",...A.location},l)}function E(){z(ee,l=c==null?void 0:c.ipData,l),navigator.geolocation?(z(te,a="Loacating...",a),navigator.geolocation.getCurrentPosition(k,Re)):console.log("Geolocation is not supported by your browser")}He(()=>{E()});function I(u){Oe.call(this,t,u)}return t.$$set=u=>{"data"in u&&i(2,c=u.data),"$$scope"in u&&i(3,b=u.$$scope)},[L,E,c,b,f,I]}class We extends Ee{constructor(e){super(),Ae(this,e,Be,Ge,we,{data:2})}}export{We as component};
